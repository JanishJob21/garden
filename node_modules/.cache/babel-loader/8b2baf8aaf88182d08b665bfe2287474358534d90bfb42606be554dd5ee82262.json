{"ast":null,"code":"var _s = $RefreshSig$();\nimport { useEffect, useRef, useState } from 'react';\nimport debounce from '../utils/debounce.js';\nexport default function useAutosaveForm(key, initial) {\n  _s();\n  const [values, setValues] = useState(() => {\n    const raw = localStorage.getItem(key);\n    return raw ? JSON.parse(raw) : initial;\n  });\n  const saver = useRef(debounce(v => localStorage.setItem(key, JSON.stringify(v)), 600));\n  useEffect(() => {\n    saver.current(values);\n  }, [values]);\n  const setField = (name, value) => setValues(v => ({\n    ...v,\n    [name]: value\n  }));\n  const reset = () => {\n    localStorage.removeItem(key);\n    setValues(initial);\n  };\n  return {\n    values,\n    setField,\n    reset,\n    setValues\n  };\n}\n_s(useAutosaveForm, \"ooaA8RWFY3bVFPzF7499NejESiI=\");","map":{"version":3,"names":["useEffect","useRef","useState","debounce","useAutosaveForm","key","initial","_s","values","setValues","raw","localStorage","getItem","JSON","parse","saver","v","setItem","stringify","current","setField","name","value","reset","removeItem"],"sources":["D:/full stacks/Garden/garden-scheduler/src/hooks/useAutosaveForm.js"],"sourcesContent":["import { useEffect, useRef, useState } from 'react'\nimport debounce from '../utils/debounce.js'\n\nexport default function useAutosaveForm(key, initial) {\n  const [values, setValues] = useState(() => {\n    const raw = localStorage.getItem(key)\n    return raw ? JSON.parse(raw) : initial\n  })\n  const saver = useRef(debounce((v)=>localStorage.setItem(key, JSON.stringify(v)), 600))\n\n  useEffect(()=> { saver.current(values) }, [values])\n\n  const setField = (name, value) => setValues(v => ({ ...v, [name]: value }))\n  const reset = () => { localStorage.removeItem(key); setValues(initial) }\n\n  return { values, setField, reset, setValues }\n}\n"],"mappings":";AAAA,SAASA,SAAS,EAAEC,MAAM,EAAEC,QAAQ,QAAQ,OAAO;AACnD,OAAOC,QAAQ,MAAM,sBAAsB;AAE3C,eAAe,SAASC,eAAeA,CAACC,GAAG,EAAEC,OAAO,EAAE;EAAAC,EAAA;EACpD,MAAM,CAACC,MAAM,EAAEC,SAAS,CAAC,GAAGP,QAAQ,CAAC,MAAM;IACzC,MAAMQ,GAAG,GAAGC,YAAY,CAACC,OAAO,CAACP,GAAG,CAAC;IACrC,OAAOK,GAAG,GAAGG,IAAI,CAACC,KAAK,CAACJ,GAAG,CAAC,GAAGJ,OAAO;EACxC,CAAC,CAAC;EACF,MAAMS,KAAK,GAAGd,MAAM,CAACE,QAAQ,CAAEa,CAAC,IAAGL,YAAY,CAACM,OAAO,CAACZ,GAAG,EAAEQ,IAAI,CAACK,SAAS,CAACF,CAAC,CAAC,CAAC,EAAE,GAAG,CAAC,CAAC;EAEtFhB,SAAS,CAAC,MAAK;IAAEe,KAAK,CAACI,OAAO,CAACX,MAAM,CAAC;EAAC,CAAC,EAAE,CAACA,MAAM,CAAC,CAAC;EAEnD,MAAMY,QAAQ,GAAGA,CAACC,IAAI,EAAEC,KAAK,KAAKb,SAAS,CAACO,CAAC,KAAK;IAAE,GAAGA,CAAC;IAAE,CAACK,IAAI,GAAGC;EAAM,CAAC,CAAC,CAAC;EAC3E,MAAMC,KAAK,GAAGA,CAAA,KAAM;IAAEZ,YAAY,CAACa,UAAU,CAACnB,GAAG,CAAC;IAAEI,SAAS,CAACH,OAAO,CAAC;EAAC,CAAC;EAExE,OAAO;IAAEE,MAAM;IAAEY,QAAQ;IAAEG,KAAK;IAAEd;EAAU,CAAC;AAC/C;AAACF,EAAA,CAbuBH,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}